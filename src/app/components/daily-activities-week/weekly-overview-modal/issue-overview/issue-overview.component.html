<button class="btn p-0 border-0 w-100 text-start" (click)="isActivityListCollapsed = !isActivityListCollapsed">
  <h5 class="d-flex m-0">
    <div style="width: 4%">
      <i class="material-symbols-outlined text-secondary">
        @if (isActivityListCollapsed) {
          chevron_right
        } @else {
          expand_more
        }
      </i>
    </div>

    @if (issueOverview.issue.key) {
      <div style="width: 15%">
        {{issueOverview.issue.key}}
      </div>
    }

    <div class="text-wrap fw-normal flex-grow-1">
      {{issueOverview.issue.name}}
    </div>
    <div class="badge bg-primary">
      {{issueOverview.duration}}
    </div>
    <div class="badge bg-info ms-1">
      {{ issueOverview.durationRatio | percent }}
    </div>
    <div class="badge bg-success ms-1">
      {{ issueOverview.activities.length }}
    </div>
  </h5>
</button>

<section [(ngbCollapse)]="isActivityListCollapsed">
  <div class="d-flex align-items-center my-1" *ngFor="let activityOverview of issueOverview.activityOverview">
    <div style="width: 4%"></div>
    <div class="flex-grow-1">{{activityOverview.name}}</div>
    <div class="badge bg-primary">{{activityOverview.duration}}</div>
    <div class="badge bg-info ms-1">{{activityOverview.durationRatio | percent}}</div>
    <div class="badge bg-success ms-1">{{activityOverview.activities.length}}</div>
  </div>
</section>
