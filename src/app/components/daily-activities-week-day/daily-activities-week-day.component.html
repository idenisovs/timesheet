@if (!isMobile) {
  <section class="card">
    <header class="card-header">
      <app-daily-activities-week-day-header [day]="day" />
    </header>

    <main class="card-body">
      <form [formGroup]="form">
        <div class="row d-none d-md-flex">
          <div class="col-4">
            Activity
          </div>
          <div class="col-2">
            From
          </div>
          <div class="col-2">
            Till
          </div>
          <div class="col-2">
            Durations
          </div>
        </div>
        <div formArrayName="activities">
          @for (activity of ActivityFormArrayItems; track activity.controls.id.value; let idx = $index) {
            <app-daily-activity-item
              [idx]="idx"
              [activity]="activity"
              [activities]="ActivityFormArrayItems"
              [isMobile]="isMobile"
              (add)="add()"
              (remove)="remove($event)"
              (save)="save()"
            />
          }
        </div>
      </form>
    </main>

    <footer class="card-footer">
      <app-daily-activities-week-day-footer (reset)="reset()" [activities]="activities" [isChanged]="isChanged" />
    </footer>
  </section>
} @else {
  <section class="card d-md-none bg-secondary-subtle">
    <main class="card-body">
      <app-daily-activities-week-day-header [day]="day" />
    </main>
  </section>

  <form [formGroup]="form">
    <div formArrayName="activities">
      @for (activity of ActivityFormArrayItems; track activity.controls.id.value; let idx = $index; let isFirst = $first) {
        @if (isFirst) {
          <div class="mt-3">
            <app-daily-activity-item
              [idx]="idx"
              [activity]="activity"
              [activities]="ActivityFormArrayItems"
              [isMobile]="isMobile"
              (add)="add()"
              (remove)="remove($event)"
              (save)="save()"
            />
          </div>
        } @else {
          <div class="card mt-3">
            <div class="card-body">
              <div class="d-flex flex-column">
                <div>
                  {{activity.controls.name.value}}
                </div>
                <div class="d-flex justify-content-between flex-grow-1">
                  <div>
                    {{activity.controls.from.value}}
                  </div>
                  <div>
                    {{activity.controls.duration.value}}
                  </div>
                  <div>
                    {{activity.controls.till.value}}
                  </div>
                </div>
              </div>
            </div>
          </div>
        }
      }
    </div>
  </form>
}
